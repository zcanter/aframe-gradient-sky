<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>A-Frame Gradient-Sky</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/aframe/0.4.0/aframe.min.js"></script>
  <script src="./dat.gui.min.js"></script>
	<!-- <script src="../dist/gradientsky.min.js"></script> -->
  <script src="https://cdn.rawgit.com/zcanter/aframe-gradient-sky/master/dist/gradientsky.min.js"></script>
</head>
<body>

<a-scene>
      <a-sphere position="0 1.25 -1" radius="1.25" color="silver"></a-sphere>
      <a-box position="-1 0.5 1" rotation="0 45 0" width="1" height="1" depth="1"  color="silver"></a-box>
      <a-cylinder position="1 0.75 1" radius="0.5" height="1.5" color="silver"></a-cylinder>
      <a-plane rotation="-90 0 0" width="4" height="4" color="white"></a-plane>
      <a-gradient-sky material="topColor: 255 0 0; bottomColor: 0 121 255;"></a-gradient-sky>
      <a-entity position="0 0 3.8">
        <a-camera></a-camera>
      </a-entity>
</a-scene>


<script>

var ColorUpdates = function() {
  this.displayOutline = false;
  this.topColor = [255,0,0];
  this.bottomColor = [0,121,255];
  this.reset = function() { 
    $("a-gradient-sky").attr("material", "shader: gradient; topColor: 255 0 0; bottomColor: 0 121 255;")
  };
  
};



window.onload = function() {
  var updates = new ColorUpdates();
  var gui = new dat.GUI();
  var controllerTop = gui.addColor(updates, 'topColor');
  var controllerBottom = gui.addColor(updates, 'bottomColor');
  gui.add(updates, 'reset');
  var bottomColor = [0,121,255]
  var topColor = [255,0,0]
  controllerTop.onChange(function(value) {
    topColor = value
    console.log(value)
    $("a-gradient-sky").attr("material", "shader: gradient; topColor: "+topColor[0]+" "+topColor[1]+" "+topColor[2]+"; bottomColor:"+bottomColor[0]+" "+bottomColor[1]+" "+bottomColor[2]+"")
  })

  controllerBottom.onChange(function(value) {
    bottomColor = value
    console.log(value)
    $("a-gradient-sky").attr("material", "shader: gradient; topColor: "+topColor[0]+" "+topColor[1]+" "+topColor[2]+"; bottomColor:"+bottomColor[0]+" "+bottomColor[1]+" "+bottomColor[2]+"")
  })

};



</script>
</body>
</html>